{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AA8BA,2BAA2B;AAC3B,MAAM,YAAY;IACR,YAAY,CAAS;IAE7B;QACE,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC1B,CAAC;IAED,YAAY,CAAC,GAAW;QACtB,IAAI,CAAC,YAAY;YACf,IAAI,CAAC,YAAY,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC9D,CAAC;IAED,aAAa;QACX,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;YACrC,IAAI,CAAC,YAAY,IAAI,GAAG,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,YAAY,KAAK,GAAG,EAAE,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC;gBACnD,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC5B,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;QAC9B,CAAC;IACH,CAAC;IAED,KAAK;QACH,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC1B,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,QAAQ,CAAC,KAAsB;QAC7B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;IACvC,CAAC;CACF;AAED,gCAAgC;AAChC,MAAM,eAAe;IACX,aAAa,CAAS;IACtB,QAAQ,CAAW;IAE3B;QACE,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,6DAA6D;IAC7D,WAAW,CAAC,QAAiC,EAAE,YAAoB;QACjE,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE,CAAC;YAC3B,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;YAC5C,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAC9B,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACpC,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,OAAO,GAAG,CAAC;IACb,CAAC;IAED,SAAS,CAAC,YAAoB;QAC5B,MAAM,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;QAEzC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC;YAAE,OAAO,OAAO,CAAC;QAElD,IAAI,MAAuB,CAAC;QAE5B,QAAQ,IAAI,CAAC,QAAQ,EAAE,CAAC;YACtB,KAAK,GAAG;gBACN,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC;gBACxB,MAAM;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC;gBACxB,MAAM;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,UAAU,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,MAAM;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;gBAClD,MAAM;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC;gBACxB,MAAM;YACR;gBACE,OAAO,YAAY,CAAC;QACxB,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK;QACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC;IAChC,CAAC;CACF;AAED,YAAY;AACL,MAAM,gBAAgB;IACnB,cAAc,CAAc;IAC5B,YAAY,CAAgB;IAC5B,eAAe,CAAmB;IAE1C,YAAY,cAA2B;QACrC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;QACvC,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,EAAE,CAAC;QAC7C,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,WAAW,CAAC,GAAW;QACrB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,UAAU;QACR,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,aAAa,CAAC,EAA2B;QACvC,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAC7C,EAAE,EACF,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAC7B,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,UAAU;QACR,IAAI,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,EAAE,CAAC;YACvC,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAC3C,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAC7B,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;IACH,CAAC;IAED,aAAa;QACX,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;IACjE,CAAC;CACF;;;;;;;UChMD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;ACNyC;AAEzC,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAgB,CAAC;AAClE,MAAM,UAAU,GAAG,IAAI,kDAAgB,CAAC,OAAO,CAAC,CAAC;AAEjD,uBAAuB;AACvB,QAAQ,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;IACnD,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;QACpC,MAAM,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAEhD,IAAI,CAAC,KAAK;YAAE,OAAO;QAEnB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;YAC5B,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;aAAM,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;YACzB,UAAU,CAAC,YAAY,EAAE,CAAC;QAC5B,CAAC;aAAM,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;YAC1B,UAAU,CAAC,UAAU,EAAE,CAAC;QAC1B,CAAC;aAAM,IAAI,KAAK,KAAK,GAAG,EAAE,CAAC;YACzB,UAAU,CAAC,UAAU,EAAE,CAAC;QAC1B,CAAC;aAAM,IAAI,KAAK,KAAK,KAAK,EAAE,CAAC;YAC3B,UAAU,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC;aAAM,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;YACrD,UAAU,CAAC,aAAa,CAAC,KAAoC,CAAC,CAAC;QACjE,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,6BAA6B;AAC7B,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAoB,EAAE,EAAE;IAC5D,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;IAEtB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QACxB,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;SAAM,IAAI,GAAG,KAAK,GAAG,EAAE,CAAC;QACvB,UAAU,CAAC,YAAY,EAAE,CAAC;IAC5B,CAAC;SAAM,IAAI,GAAG,KAAK,OAAO,IAAI,GAAG,KAAK,GAAG,EAAE,CAAC;QAC1C,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,UAAU,CAAC,UAAU,EAAE,CAAC;IAC1B,CAAC;SAAM,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI,GAAG,KAAK,QAAQ,EAAE,CAAC;QACzD,UAAU,CAAC,UAAU,EAAE,CAAC;IAC1B,CAAC;SAAM,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;QACnD,UAAU,CAAC,aAAa,CAAC,GAAkC,CAAC,CAAC;IAC/D,CAAC;SAAM,IAAI,GAAG,KAAK,GAAG,EAAE,CAAC;QACvB,UAAU,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC;AACH,CAAC,CAAC,CAAC","sources":["webpack://calculator_typescript/./src/cal.ts","webpack://calculator_typescript/webpack/bootstrap","webpack://calculator_typescript/webpack/runtime/define property getters","webpack://calculator_typescript/webpack/runtime/hasOwnProperty shorthand","webpack://calculator_typescript/webpack/runtime/make namespace object","webpack://calculator_typescript/./src/script.ts"],"sourcesContent":["// Types\r\ntype Operator = \"+\" | \"-\" | \"*\" | \"/\" | \"%\" | null;\r\n\r\n// Interfaces\r\ninterface IInputHandler {\r\n  appendNumber(num: string): void;\r\n  appendDecimal(): void;\r\n  negate(): void;\r\n  clear(): void;\r\n  getInput(): string;\r\n  setInput(value: string | number): void;\r\n}\r\n\r\ninterface IOperatorHandler {\r\n  setOperator(operator: Exclude<Operator, null>, currentInput: string): string;\r\n  calculate(currentInput: string): string;\r\n  reset(): void;\r\n  hasOperator(): boolean;\r\n}\r\n\r\ninterface ICalculatorFacade {\r\n  inputNumber(num: string): void;\r\n  inputDecimal(): void;\r\n  inputNegate(): void;\r\n  inputClear(): void;\r\n  inputOperator(op: Exclude<Operator, null>): void;\r\n  inputEqual(): void;\r\n  updateDisplay(): void;\r\n}\r\n\r\n// Subsystem: Handles input\r\nclass InputHandler implements IInputHandler {\r\n  private currentInput: string;\r\n\r\n  constructor() {\r\n    this.currentInput = \"0\";\r\n  }\r\n\r\n  appendNumber(num: string): void {\r\n    this.currentInput =\r\n      this.currentInput === \"0\" ? num : this.currentInput + num;\r\n  }\r\n\r\n  appendDecimal(): void {\r\n    if (!this.currentInput.includes(\".\")) {\r\n      this.currentInput += \".\";\r\n    }\r\n  }\r\n\r\n  negate(): void {\r\n    if (this.currentInput !== \"0\") {\r\n      this.currentInput = this.currentInput.startsWith(\"-\")\r\n        ? this.currentInput.slice(1)\r\n        : \"-\" + this.currentInput;\r\n    }\r\n  }\r\n\r\n  clear(): void {\r\n    this.currentInput = \"0\";\r\n  }\r\n\r\n  getInput(): string {\r\n    return this.currentInput;\r\n  }\r\n\r\n  setInput(value: string | number): void {\r\n    this.currentInput = value.toString();\r\n  }\r\n}\r\n\r\n// Subsystem: Handles operations\r\nclass OperatorHandler implements IOperatorHandler {\r\n  private previousInput: string;\r\n  private operator: Operator;\r\n\r\n  constructor() {\r\n    this.previousInput = \"\";\r\n    this.operator = null;\r\n  }\r\n\r\n  //   exclude works with unions it's like partial in interface\r\n  setOperator(operator: Exclude<Operator, null>, currentInput: string): string {\r\n    if (this.operator !== null) {\r\n      const result = this.calculate(currentInput);\r\n      this.previousInput = result;\r\n    } else {\r\n      this.previousInput = currentInput;\r\n    }\r\n\r\n    this.operator = operator;\r\n    return \"0\";\r\n  }\r\n\r\n  calculate(currentInput: string): string {\r\n    const prev = parseFloat(this.previousInput);\r\n    const current = parseFloat(currentInput);\r\n\r\n    if (isNaN(prev) || isNaN(current)) return \"Error\";\r\n\r\n    let result: number | string;\r\n\r\n    switch (this.operator) {\r\n      case \"+\":\r\n        result = prev + current;\r\n        break;\r\n      case \"-\":\r\n        result = prev - current;\r\n        break;\r\n      case \"*\":\r\n        result = parseFloat((prev * current).toFixed(3));\r\n        break;\r\n      case \"/\":\r\n        result = current === 0 ? \"Error\" : prev / current;\r\n        break;\r\n      case \"%\":\r\n        result = prev % current;\r\n        break;\r\n      default:\r\n        return currentInput;\r\n    }\r\n\r\n    this.operator = null;\r\n    this.previousInput = \"\";\r\n    return result.toString();\r\n  }\r\n\r\n  reset(): void {\r\n    this.previousInput = \"\";\r\n    this.operator = null;\r\n  }\r\n\r\n  hasOperator(): boolean {\r\n    return this.operator !== null;\r\n  }\r\n}\r\n\r\n// ðŸŽ¯ Facade\r\nexport class CalculatorFacade implements ICalculatorFacade {\r\n  private displayElement: HTMLElement;\r\n  private inputHandler: IInputHandler;\r\n  private operatorHandler: IOperatorHandler;\r\n\r\n  constructor(displayElement: HTMLElement) {\r\n    this.displayElement = displayElement;\r\n    this.inputHandler = new InputHandler();\r\n    this.operatorHandler = new OperatorHandler();\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputNumber(num: string): void {\r\n    this.inputHandler.appendNumber(num);\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputDecimal(): void {\r\n    this.inputHandler.appendDecimal();\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputNegate(): void {\r\n    this.inputHandler.negate();\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputClear(): void {\r\n    this.inputHandler.clear();\r\n    this.operatorHandler.reset();\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputOperator(op: Exclude<Operator, null>): void {\r\n    const result = this.operatorHandler.setOperator(\r\n      op,\r\n      this.inputHandler.getInput()\r\n    );\r\n    this.inputHandler.setInput(result);\r\n    this.updateDisplay();\r\n  }\r\n\r\n  inputEqual(): void {\r\n    if (this.operatorHandler.hasOperator()) {\r\n      const result = this.operatorHandler.calculate(\r\n        this.inputHandler.getInput()\r\n      );\r\n      this.inputHandler.setInput(result);\r\n      this.updateDisplay();\r\n    }\r\n  }\r\n\r\n  updateDisplay(): void {\r\n    this.displayElement.textContent = this.inputHandler.getInput();\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { CalculatorFacade } from \"./cal\";\r\n\r\nconst display = document.getElementById(\"display\") as HTMLElement;\r\nconst calculator = new CalculatorFacade(display);\r\n\r\n// Handle button clicks\r\ndocument.querySelectorAll(\".btn\").forEach((button) => {\r\n  button.addEventListener(\"click\", () => {\r\n    const value = button.getAttribute(\"data-value\");\r\n\r\n    if (!value) return;\r\n\r\n    if (!isNaN(parseInt(value))) {\r\n      calculator.inputNumber(value);\r\n    } else if (value === \".\") {\r\n      calculator.inputDecimal();\r\n    } else if (value === \"AC\") {\r\n      calculator.inputClear();\r\n    } else if (value === \"=\") {\r\n      calculator.inputEqual();\r\n    } else if (value === \"+/-\") {\r\n      calculator.inputNegate();\r\n    } else if ([\"+\", \"-\", \"*\", \"/\", \"%\"].includes(value)) {\r\n      calculator.inputOperator(value as \"+\" | \"-\" | \"*\" | \"/\" | \"%\");\r\n    }\r\n  });\r\n});\r\n\r\n// Optional: Keyboard support\r\ndocument.addEventListener(\"keydown\", (event: KeyboardEvent) => {\r\n  const key = event.key;\r\n\r\n  if (!isNaN(Number(key))) {\r\n    calculator.inputNumber(key);\r\n  } else if (key === \".\") {\r\n    calculator.inputDecimal();\r\n  } else if (key === \"Enter\" || key === \"=\") {\r\n    event.preventDefault();\r\n    calculator.inputEqual();\r\n  } else if (key.toLowerCase() === \"c\" || key === \"Escape\") {\r\n    calculator.inputClear();\r\n  } else if ([\"+\", \"-\", \"*\", \"/\", \"%\"].includes(key)) {\r\n    calculator.inputOperator(key as \"+\" | \"-\" | \"*\" | \"/\" | \"%\");\r\n  } else if (key === \"n\") {\r\n    calculator.inputNegate();\r\n  }\r\n});\r\n"],"names":[],"sourceRoot":""}